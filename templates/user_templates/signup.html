{% extends 'base.html' %}

{% block head %}
    <script src="{{ url_for('static', filename='js_scripts/validation.js') }}" defer></script>  
{% endblock %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col">
            <h1  class="mt-3" style="color: white; text-align: center;">Sign Up</h1>
            <form method="post">
                <div class="row">
                    <div class="col-12 mt-3" style="justify-content: center; display: flex;">
                        <label for="username" class="me-1" style="color: white;">Username:</label>
                        <input type="text" id="username" name="username" required>
                    </div>
                    <div class="col-12 mt-3" style="justify-content: center; display: flex;">
                        <label for="email" class="me-1" style="color: white;">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="col-12 mt-2" style="justify-content: center; display: flex;">
                        <label for="password" class="me-1" style="color: white;">Password:</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <div class="col-12 mt-2" style="justify-content: center; display: flex;">
                        <label for="re-typed-password" class="me-1" style="color: white;">Re-Typed Password:</label>
                        <input type="password" id="re-typed-password" name="re-typed-password" required>
                    </div>
                    <div class="col-12 mt-2" style="justify-content: center; display: flex;">
                        <button type="submit">SignUp</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    // get all fields
    const username_field = document.getElementById('username');
    const email_field = document.getElementById('email');
    const pass_field = document.getElementById('password');
    const confirm_pass_field = document.getElementById('re-typed-password');

    // get all labels
    const username_label = document.querySelector('[for="username"]');
    const email_label = document.querySelector('[for="email"]');
    const pass_label = document.querySelector('[for="password"]');
    const confirm_pass_label = document.querySelector('[for="re-typed-password"]');

    username_field.addEventListener('focusout', function() {
        validateText(username_field, username_label, 3, 80);
    });

    email_field.addEventListener('focusout', function() {
        validateEmail(email_field, email_label);
    });

    pass_field.addEventListener('focusout', function() {
        validateText(pass_field, pass_label, 3, 80);
    });

    confirm_pass_field.addEventListener('focusout', function() {
        validateText(confirm_pass_field, confirm_pass_label, 3, 80);
    });

</script>
{% endblock %}